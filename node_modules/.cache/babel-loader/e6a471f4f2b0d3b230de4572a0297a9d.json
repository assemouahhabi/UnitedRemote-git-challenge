{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\unitedremote\\\\git-challenge\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport List from \"./components/List\";\nimport Axios from \"axios\";\nimport moment from \"moment\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleScroll = () => {\n      const windowHeight = \"innerHeight\" in window ? window.innerHeight : document.documentElement.offsetHeight;\n      const body = document.body;\n      const html = document.documentElement;\n      const docHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n      const windowBottom = windowHeight + window.pageYOffset;\n\n      if (windowBottom >= docHeight) {\n        this.fetchAnotherGithub();\n        this.setState({\n          fetchInProgress: true\n        });\n      } else {\n        console.log(\"bottom not reached\");\n      }\n    };\n\n    this.state = {\n      list: [],\n      loading: true,\n      url: \"\",\n      page: 0,\n      fetchInProgress: false,\n      error: false\n    };\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchGithub();\n    this.fetchAnotherGithub();\n    window.addEventListener(\"scroll\", this.handleScroll, true);\n  }\n\n  componentWillMount() {\n    this.getUrl();\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  }\n\n  increment() {\n    this.setState({\n      page: this.state.page + 1\n    });\n  }\n\n  getDate() {\n    let currentDate = moment().format(\"YYYY-MM-DD\");\n    let startDate = moment().subtract(30, \"days\").format(\"YYYY-MM-DD\");\n    return [startDate, currentDate];\n  }\n\n  getUrl() {\n    let tmpDate = this.getDate();\n    let startDate = tmpDate[0];\n    let currentDate = tmpDate[1];\n    this.setState({\n      url: \"https://api.github.com/search/repositories?q=created:\" + startDate + \"..\" + currentDate + \"&sort=stars&order=desc&page=0\"\n    });\n  }\n\n  getOtherUrl() {\n    this.increment();\n    let page = this.state.page;\n    let tmpDate = this.getDate();\n    let startDate = tmpDate[0];\n    let currentDate = tmpDate[1];\n    this.setState({\n      url: \"https://api.github.com/search/repositories?q=created:\" + startDate + \"..\" + currentDate + \"&sort=stars&order=desc&page=\" + page\n    });\n  }\n\n  fetchAnotherGithub() {\n    this.getOtherUrl();\n    let url = this.state.url;\n    Axios.get(url).then(response => {\n      var info = response.data.items;\n      this.setState({\n        list: this.state.list.concat([...info]),\n        fetchInProgress: false\n      });\n    }).catch(error => {\n      console.log(error);\n      this.setState({\n        error: true\n      });\n    });\n  }\n\n  fetchGithub() {\n    let url = this.state.url;\n    Axios.get(url).then(response => {\n      var info = response.data.items;\n      this.setState({\n        list: info,\n        loading: false\n      });\n    }).catch(error => {\n      console.log(error);\n      this.setState({\n        error: true\n      });\n    });\n  }\n\n  render() {\n    let list = this.state.list;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-header bg-dark\",\n      id: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"The most stared repositories of this month\"), React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(List, {\n      loading: this.state.loading,\n      list: list,\n      onScroll: this.handleScroll,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"card-footer\",\n      style: {\n        textAlign: \"center\",\n        height: \"5rem\",\n        fontSize: \"20px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, this.state.fetchInProgress ? this.state.error ? React.createElement(\"i\", {\n      className: \"fa fa-exclamation-circle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }) : React.createElement(\"i\", {\n      className: \"fa fa-spinner fa-spin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }) : React.createElement(\"i\", {\n      className: \"fa fa fa-check-circle\\t\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/DELL/Desktop/unitedremote/git-challenge/src/App.js"],"names":["React","Component","List","Axios","moment","App","constructor","props","handleScroll","windowHeight","window","innerHeight","document","documentElement","offsetHeight","body","html","docHeight","Math","max","scrollHeight","clientHeight","windowBottom","pageYOffset","fetchAnotherGithub","setState","fetchInProgress","console","log","state","list","loading","url","page","error","bind","componentDidMount","fetchGithub","addEventListener","componentWillMount","getUrl","removeEventListener","increment","getDate","currentDate","format","startDate","subtract","tmpDate","getOtherUrl","get","then","response","info","data","items","concat","catch","render","textAlign","height","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport List from \"./components/List\";\nimport Axios from \"axios\";\nimport moment from \"moment\";\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n      loading: true,\n      url: \"\",\n      page: 0,\n      fetchInProgress: false,\n      error: false\n    };\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n  componentDidMount() {\n    this.fetchGithub();\n    this.fetchAnotherGithub();\n    window.addEventListener(\"scroll\", this.handleScroll, true);\n  }\n  componentWillMount() {\n    this.getUrl();\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  }\n  increment() {\n    this.setState({\n      page: this.state.page + 1\n    });\n  }\n  getDate() {\n    let currentDate = moment().format(\"YYYY-MM-DD\");\n    let startDate = moment()\n      .subtract(30, \"days\")\n      .format(\"YYYY-MM-DD\");\n    return [startDate, currentDate];\n  }\n  getUrl() {\n    let tmpDate = this.getDate();\n    let startDate = tmpDate[0];\n    let currentDate = tmpDate[1];\n    this.setState({\n      url:\n        \"https://api.github.com/search/repositories?q=created:\" +\n        startDate +\n        \"..\" +\n        currentDate +\n        \"&sort=stars&order=desc&page=0\"\n    });\n  }\n  getOtherUrl() {\n    this.increment();\n    let page = this.state.page;\n    let tmpDate = this.getDate();\n    let startDate = tmpDate[0];\n    let currentDate = tmpDate[1];\n    this.setState({\n      url:\n        \"https://api.github.com/search/repositories?q=created:\" +\n        startDate +\n        \"..\" +\n        currentDate +\n        \"&sort=stars&order=desc&page=\" +\n        page\n    });\n  }\n  fetchAnotherGithub() {\n    this.getOtherUrl();\n    let url = this.state.url;\n    Axios.get(url)\n      .then(response => {\n        var info = response.data.items;\n        this.setState({\n          list: this.state.list.concat([...info]),\n          fetchInProgress: false\n        });\n      })\n      .catch(error => {\n        console.log(error);\n        this.setState({\n          error: true\n        });\n      });\n  }\n  fetchGithub() {\n    let url = this.state.url;\n    Axios.get(url)\n      .then(response => {\n        var info = response.data.items;\n        this.setState({\n          list: info,\n          loading: false\n        });\n      })\n      .catch(error => {\n        console.log(error);\n        this.setState({\n          error: true\n        });\n      });\n  }\n  handleScroll = () => {\n    const windowHeight =\n      \"innerHeight\" in window\n        ? window.innerHeight\n        : document.documentElement.offsetHeight;\n    const body = document.body;\n    const html = document.documentElement;\n    const docHeight = Math.max(\n      body.scrollHeight,\n      body.offsetHeight,\n      html.clientHeight,\n      html.scrollHeight,\n      html.offsetHeight\n    );\n    const windowBottom = windowHeight + window.pageYOffset;\n    if (windowBottom >= docHeight) {\n      this.fetchAnotherGithub();\n      this.setState({\n        fetchInProgress: true\n      });\n    } else {\n      console.log(\"bottom not reached\");\n    }\n  };\n  render() {\n    let list = this.state.list;\n    return (\n      <div>\n        <div className=\"card-header bg-dark\" id=\"title\">\n          The most stared repositories of this month\n        </div>\n        <div className=\"card-body\">\n          <List\n            loading={this.state.loading}\n            list={list}\n            onScroll={this.handleScroll}\n          />\n        </div>\n\n        <div\n          className=\"card-footer\"\n          style={{ textAlign: \"center\", height: \"5rem\", fontSize:\"20px\" }}\n        >\n            {this.state.fetchInProgress ? (\n              this.state.error ? (\n                <i className=\"fa fa-exclamation-circle\" />\n              ) : (\n                <i className=\"fa fa-spinner fa-spin\" />\n              )\n            ) : (\n              <i className=\"fa fa fa-check-circle\t\" />\n            )}\n        </div>\n      </div>\n    );\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}