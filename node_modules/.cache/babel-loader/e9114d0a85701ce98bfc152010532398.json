{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\unitedremote\\\\git-challenge\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport List from \"./components/List\";\nimport Axios from \"axios\";\nimport moment from \"moment\";\nimport SecondLoader from \"./components/SecondLoader\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleScroll = () => {\n      const windowHeight = \"innerHeight\" in window ? window.innerHeight : document.documentElement.offsetHeight;\n      const body = document.body;\n      const html = document.documentElement;\n      const docHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n      const windowBottom = windowHeight + window.pageYOffset;\n\n      if (windowBottom >= docHeight) {\n        this.fetchAnotherGithub();\n        this.setState({\n          fetchInProgress: true\n        });\n      } else {\n        console.log(\"bottom not reached\");\n      }\n    };\n\n    this.load = () => {\n      if (this.state.fetchInProgress) return React.createElement(SecondLoader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      });\n    };\n\n    this.state = {\n      list: [],\n      loading: true,\n      url: \"\",\n      page: 0,\n      fetchInProgress: false\n    };\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchGithub();\n    this.fetchAnotherGithub();\n    window.addEventListener(\"scroll\", this.handleScroll, true);\n  }\n\n  componentWillMount() {\n    this.getUrl();\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  }\n\n  increment() {\n    this.setState({\n      page: this.state.page + 1\n    });\n  }\n\n  getDate() {\n    let currentDate = moment().format(\"YYYY-MM-DD\");\n    let startDate = moment().subtract(30, \"days\").format(\"YYYY-MM-DD\");\n    return [startDate, currentDate];\n  }\n\n  getUrl() {\n    let tmpDate = this.getDate();\n    let startDate = tmpDate[0];\n    let currentDate = tmpDate[1];\n    this.setState({\n      url: \"https://api.github.com/search/repositories?q=created:\" + startDate + \"..\" + currentDate + \"&sort=stars&order=desc&page=0\"\n    });\n  }\n\n  getOtherUrl() {\n    this.increment();\n    let page = this.state.page;\n    let tmpDate = this.getDate();\n    let startDate = tmpDate[0];\n    let currentDate = tmpDate[1];\n    this.setState({\n      url: \"https://api.github.com/search/repositories?q=created:\" + startDate + \"..\" + currentDate + \"&sort=stars&order=desc&page=\" + page\n    });\n  }\n\n  fetchAnotherGithub() {\n    this.getOtherUrl();\n    let url = this.state.url;\n    Axios.get(url).then(response => {\n      var info = response.data.items;\n      this.setState({\n        list: this.state.list.concat([...info]),\n        fetchInProgress: false\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  fetchGithub() {\n    let url = this.state.url;\n    Axios.get(url).then(response => {\n      var info = response.data.items;\n      this.setState({\n        list: info,\n        loading: false\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    let list = this.state.list;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(List, {\n      loading: this.state.loading,\n      list: list,\n      onScroll: this.handleScroll,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/DELL/Desktop/unitedremote/git-challenge/src/App.js"],"names":["React","Component","List","Axios","moment","SecondLoader","App","constructor","props","handleScroll","windowHeight","window","innerHeight","document","documentElement","offsetHeight","body","html","docHeight","Math","max","scrollHeight","clientHeight","windowBottom","pageYOffset","fetchAnotherGithub","setState","fetchInProgress","console","log","load","state","list","loading","url","page","bind","componentDidMount","fetchGithub","addEventListener","componentWillMount","getUrl","removeEventListener","increment","getDate","currentDate","format","startDate","subtract","tmpDate","getOtherUrl","get","then","response","info","data","items","concat","catch","error","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport List from \"./components/List\";\nimport Axios from \"axios\";\nimport moment from \"moment\";\nimport SecondLoader from \"./components/SecondLoader\"\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n      loading: true,\n      url: \"\",\n      page: 0,\n      fetchInProgress: false\n    };\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n  componentDidMount() {\n    this.fetchGithub();\n    this.fetchAnotherGithub();\n    window.addEventListener(\"scroll\", this.handleScroll, true);\n  }\n  componentWillMount() {\n    this.getUrl();\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  }\n  increment() {\n    this.setState({\n      page: this.state.page + 1\n    });\n  }\n  getDate() {\n    let currentDate = moment().format(\"YYYY-MM-DD\");\n    let startDate = moment()\n      .subtract(30, \"days\")\n      .format(\"YYYY-MM-DD\");\n    return [startDate, currentDate];\n  }\n  getUrl() {\n    let tmpDate = this.getDate();\n    let startDate = tmpDate[0];\n    let currentDate = tmpDate[1];\n    this.setState({\n      url:\n        \"https://api.github.com/search/repositories?q=created:\" +\n        startDate +\n        \"..\" +\n        currentDate +\n        \"&sort=stars&order=desc&page=0\"\n    });\n  }\n  getOtherUrl() {\n    this.increment();\n    let page = this.state.page;\n    let tmpDate = this.getDate();\n    let startDate = tmpDate[0];\n    let currentDate = tmpDate[1];\n    this.setState({\n      url:\n        \"https://api.github.com/search/repositories?q=created:\" +\n        startDate +\n        \"..\" +\n        currentDate +\n        \"&sort=stars&order=desc&page=\" +\n        page\n    });\n  }\n  fetchAnotherGithub() {\n    this.getOtherUrl();\n    let url = this.state.url;\n    Axios.get(url)\n      .then(response => {\n        var info = response.data.items;\n        this.setState({\n          list: this.state.list.concat([...info]),\n          fetchInProgress: false,\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n  fetchGithub() {\n    let url = this.state.url;\n    Axios.get(url)\n      .then(response => {\n        var info = response.data.items;\n        this.setState({\n          list: info,\n          loading: false\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n  handleScroll = () => {\n    const windowHeight =\n      \"innerHeight\" in window\n        ? window.innerHeight\n        : document.documentElement.offsetHeight;\n    const body = document.body;\n    const html = document.documentElement;\n    const docHeight = Math.max(\n      body.scrollHeight,\n      body.offsetHeight,\n      html.clientHeight,\n      html.scrollHeight,\n      html.offsetHeight\n    );\n    const windowBottom = windowHeight + window.pageYOffset;\n    if (windowBottom >= docHeight) {\n      this.fetchAnotherGithub();\n      this.setState({\n        fetchInProgress: true,\n      })\n    } else {\n      console.log(\"bottom not reached\");\n    }\n  };\n  load = () =>{\n    if(this.state.fetchInProgress) return <SecondLoader />\n  }\n  render() {\n    let list = this.state.list;\n    return (\n      <div>\n        <List loading={this.state.loading} list={list} onScroll={this.handleScroll}/>\n      </div>\n    );\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}