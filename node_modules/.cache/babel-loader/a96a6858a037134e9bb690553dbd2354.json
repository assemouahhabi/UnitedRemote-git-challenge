{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\unitedremote\\\\git-challenge\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport List from \"./components/List\";\nimport Axios from \"axios\";\nimport moment from \"moment\";\nimport SecondLoader from \"./components/SecondLoader\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleScroll = () => {\n      const windowHeight = \"innerHeight\" in window ? window.innerHeight : document.documentElement.offsetHeight;\n      const body = document.body;\n      const html = document.documentElement;\n      const docHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n      const windowBottom = windowHeight + window.pageYOffset;\n\n      if (windowBottom >= docHeight) {\n        this.fetchAnotherGithub();\n      } else {\n        console.log(\"bottom not reached\");\n      }\n    };\n\n    this.state = {\n      list: [],\n      loading: true,\n      url: \"\",\n      page: 0,\n      loadingNewData: true\n    };\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchGithub();\n    this.fetchAnotherGithub();\n    window.addEventListener(\"scroll\", this.handleScroll, true);\n  }\n\n  componentWillMount() {\n    this.getUrl();\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  }\n\n  increment() {\n    this.setState({\n      page: this.state.page + 1\n    });\n  }\n\n  getDate() {\n    let currentDate = moment().format(\"YYYY-MM-DD\");\n    let startDate = moment().subtract(30, \"days\").format(\"YYYY-MM-DD\");\n    return [startDate, currentDate];\n  }\n\n  getUrl() {\n    let tmpDate = this.getDate();\n    let startDate = tmpDate[0];\n    let currentDate = tmpDate[1];\n    this.setState({\n      url: \"https://api.github.com/search/repositories?q=created:\" + startDate + \"..\" + currentDate + \"&sort=stars&order=desc&page=0\"\n    });\n  }\n\n  getOtherUrl() {\n    this.increment();\n    let page = this.state.page;\n    let tmpDate = this.getDate();\n    let startDate = tmpDate[0];\n    let currentDate = tmpDate[1];\n    this.setState({\n      url: \"https://api.github.com/search/repositories?q=created:\" + startDate + \"..\" + currentDate + \"&sort=stars&order=desc&page=\" + page\n    });\n  }\n\n  fetchAnotherGithub() {\n    this.getOtherUrl();\n    let url = this.state.url;\n    Axios.get(url).then(response => {\n      var info = response.data.items;\n      this.setState({\n        list: this.state.list.concat([...info]),\n        loadingNewData: false\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  fetchGithub() {\n    let url = this.state.url;\n    Axios.get(url).then(response => {\n      var info = response.data.items;\n      this.setState({\n        list: info,\n        loading: false\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    let list = this.state.list;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(List, {\n      loading: this.state.loading,\n      list: list,\n      onScroll: this.handleScroll,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), React.createElement(SecondLoader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/DELL/Desktop/unitedremote/git-challenge/src/App.js"],"names":["React","Component","List","Axios","moment","SecondLoader","App","constructor","props","handleScroll","windowHeight","window","innerHeight","document","documentElement","offsetHeight","body","html","docHeight","Math","max","scrollHeight","clientHeight","windowBottom","pageYOffset","fetchAnotherGithub","console","log","state","list","loading","url","page","loadingNewData","bind","componentDidMount","fetchGithub","addEventListener","componentWillMount","getUrl","removeEventListener","increment","setState","getDate","currentDate","format","startDate","subtract","tmpDate","getOtherUrl","get","then","response","info","data","items","concat","catch","error","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;;AACA,MAAMC,GAAN,SAAkBL,SAAlB,CAA4B;AAC1BM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SA0FnBC,YA1FmB,GA0FJ,MAAM;AACnB,YAAMC,YAAY,GAChB,iBAAiBC,MAAjB,GACIA,MAAM,CAACC,WADX,GAEIC,QAAQ,CAACC,eAAT,CAAyBC,YAH/B;AAIA,YAAMC,IAAI,GAAGH,QAAQ,CAACG,IAAtB;AACA,YAAMC,IAAI,GAAGJ,QAAQ,CAACC,eAAtB;AACA,YAAMI,SAAS,GAAGC,IAAI,CAACC,GAAL,CAChBJ,IAAI,CAACK,YADW,EAEhBL,IAAI,CAACD,YAFW,EAGhBE,IAAI,CAACK,YAHW,EAIhBL,IAAI,CAACI,YAJW,EAKhBJ,IAAI,CAACF,YALW,CAAlB;AAOA,YAAMQ,YAAY,GAAGb,YAAY,GAAGC,MAAM,CAACa,WAA3C;;AACA,UAAID,YAAY,IAAIL,SAApB,EAA+B;AAC7B,aAAKO,kBAAL;AACD,OAFD,MAEO;AACLC,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACD;AACF,KA9GkB;;AAEjB,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,EADK;AAEXC,MAAAA,OAAO,EAAE,IAFE;AAGXC,MAAAA,GAAG,EAAE,EAHM;AAIXC,MAAAA,IAAI,EAAE,CAJK;AAKXC,MAAAA,cAAc,EAAE;AALL,KAAb;AAOA,SAAKxB,YAAL,GAAoB,KAAKA,YAAL,CAAkByB,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AACDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,WAAL;AACA,SAAKX,kBAAL;AACAd,IAAAA,MAAM,CAAC0B,gBAAP,CAAwB,QAAxB,EAAkC,KAAK5B,YAAvC,EAAqD,IAArD;AACD;;AACD6B,EAAAA,kBAAkB,GAAG;AACnB,SAAKC,MAAL;AACA5B,IAAAA,MAAM,CAAC6B,mBAAP,CAA2B,QAA3B,EAAqC,KAAK/B,YAA1C;AACD;;AACDgC,EAAAA,SAAS,GAAG;AACV,SAAKC,QAAL,CAAc;AACZV,MAAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWI,IAAX,GAAkB;AADZ,KAAd;AAGD;;AACDW,EAAAA,OAAO,GAAG;AACR,QAAIC,WAAW,GAAGxC,MAAM,GAAGyC,MAAT,CAAgB,YAAhB,CAAlB;AACA,QAAIC,SAAS,GAAG1C,MAAM,GACnB2C,QADa,CACJ,EADI,EACA,MADA,EAEbF,MAFa,CAEN,YAFM,CAAhB;AAGA,WAAO,CAACC,SAAD,EAAYF,WAAZ,CAAP;AACD;;AACDL,EAAAA,MAAM,GAAG;AACP,QAAIS,OAAO,GAAG,KAAKL,OAAL,EAAd;AACA,QAAIG,SAAS,GAAGE,OAAO,CAAC,CAAD,CAAvB;AACA,QAAIJ,WAAW,GAAGI,OAAO,CAAC,CAAD,CAAzB;AACA,SAAKN,QAAL,CAAc;AACZX,MAAAA,GAAG,EACD,0DACAe,SADA,GAEA,IAFA,GAGAF,WAHA,GAIA;AANU,KAAd;AAQD;;AACDK,EAAAA,WAAW,GAAG;AACZ,SAAKR,SAAL;AACA,QAAIT,IAAI,GAAG,KAAKJ,KAAL,CAAWI,IAAtB;AACA,QAAIgB,OAAO,GAAG,KAAKL,OAAL,EAAd;AACA,QAAIG,SAAS,GAAGE,OAAO,CAAC,CAAD,CAAvB;AACA,QAAIJ,WAAW,GAAGI,OAAO,CAAC,CAAD,CAAzB;AACA,SAAKN,QAAL,CAAc;AACZX,MAAAA,GAAG,EACD,0DACAe,SADA,GAEA,IAFA,GAGAF,WAHA,GAIA,8BAJA,GAKAZ;AAPU,KAAd;AASD;;AACDP,EAAAA,kBAAkB,GAAG;AACnB,SAAKwB,WAAL;AACA,QAAIlB,GAAG,GAAG,KAAKH,KAAL,CAAWG,GAArB;AACA5B,IAAAA,KAAK,CAAC+C,GAAN,CAAUnB,GAAV,EACGoB,IADH,CACQC,QAAQ,IAAI;AAChB,UAAIC,IAAI,GAAGD,QAAQ,CAACE,IAAT,CAAcC,KAAzB;AACA,WAAKb,QAAL,CAAc;AACZb,QAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC,IAAX,CAAgB2B,MAAhB,CAAuB,CAAC,GAAGH,IAAJ,CAAvB,CADM;AAEZpB,QAAAA,cAAc,EAAE;AAFJ,OAAd;AAID,KAPH,EAQGwB,KARH,CAQSC,KAAK,IAAI;AACdhC,MAAAA,OAAO,CAACC,GAAR,CAAY+B,KAAZ;AACD,KAVH;AAWD;;AACDtB,EAAAA,WAAW,GAAG;AACZ,QAAIL,GAAG,GAAG,KAAKH,KAAL,CAAWG,GAArB;AACA5B,IAAAA,KAAK,CAAC+C,GAAN,CAAUnB,GAAV,EACGoB,IADH,CACQC,QAAQ,IAAI;AAChB,UAAIC,IAAI,GAAGD,QAAQ,CAACE,IAAT,CAAcC,KAAzB;AACA,WAAKb,QAAL,CAAc;AACZb,QAAAA,IAAI,EAAEwB,IADM;AAEZvB,QAAAA,OAAO,EAAE;AAFG,OAAd;AAID,KAPH,EAQG2B,KARH,CAQSC,KAAK,IAAI;AACdhC,MAAAA,OAAO,CAACC,GAAR,CAAY+B,KAAZ;AACD,KAVH;AAWD;;AAsBDC,EAAAA,MAAM,GAAG;AACP,QAAI9B,IAAI,GAAG,KAAKD,KAAL,CAAWC,IAAtB;AACA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AACE,MAAA,OAAO,EAAE,KAAKD,KAAL,CAAWE,OADtB;AAEE,MAAA,IAAI,EAAED,IAFR;AAGE,MAAA,QAAQ,EAAE,KAAKpB,YAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAME,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,CADF;AAUD;;AA5HyB;;AA8H5B,eAAeH,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport List from \"./components/List\";\nimport Axios from \"axios\";\nimport moment from \"moment\";\nimport SecondLoader from \"./components/SecondLoader\"\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n      loading: true,\n      url: \"\",\n      page: 0,\n      loadingNewData: true\n    };\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n  componentDidMount() {\n    this.fetchGithub();\n    this.fetchAnotherGithub();\n    window.addEventListener(\"scroll\", this.handleScroll, true);\n  }\n  componentWillMount() {\n    this.getUrl();\n    window.removeEventListener(\"scroll\", this.handleScroll);\n  }\n  increment() {\n    this.setState({\n      page: this.state.page + 1\n    });\n  }\n  getDate() {\n    let currentDate = moment().format(\"YYYY-MM-DD\");\n    let startDate = moment()\n      .subtract(30, \"days\")\n      .format(\"YYYY-MM-DD\");\n    return [startDate, currentDate];\n  }\n  getUrl() {\n    let tmpDate = this.getDate();\n    let startDate = tmpDate[0];\n    let currentDate = tmpDate[1];\n    this.setState({\n      url:\n        \"https://api.github.com/search/repositories?q=created:\" +\n        startDate +\n        \"..\" +\n        currentDate +\n        \"&sort=stars&order=desc&page=0\"\n    });\n  }\n  getOtherUrl() {\n    this.increment();\n    let page = this.state.page;\n    let tmpDate = this.getDate();\n    let startDate = tmpDate[0];\n    let currentDate = tmpDate[1];\n    this.setState({\n      url:\n        \"https://api.github.com/search/repositories?q=created:\" +\n        startDate +\n        \"..\" +\n        currentDate +\n        \"&sort=stars&order=desc&page=\" +\n        page\n    });\n  }\n  fetchAnotherGithub() {\n    this.getOtherUrl();\n    let url = this.state.url;\n    Axios.get(url)\n      .then(response => {\n        var info = response.data.items;\n        this.setState({\n          list: this.state.list.concat([...info]),\n          loadingNewData: false,\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n  fetchGithub() {\n    let url = this.state.url;\n    Axios.get(url)\n      .then(response => {\n        var info = response.data.items;\n        this.setState({\n          list: info,\n          loading: false\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n  handleScroll = () => {\n    const windowHeight =\n      \"innerHeight\" in window\n        ? window.innerHeight\n        : document.documentElement.offsetHeight;\n    const body = document.body;\n    const html = document.documentElement;\n    const docHeight = Math.max(\n      body.scrollHeight,\n      body.offsetHeight,\n      html.clientHeight,\n      html.scrollHeight,\n      html.offsetHeight\n    );\n    const windowBottom = windowHeight + window.pageYOffset;\n    if (windowBottom >= docHeight) {\n      this.fetchAnotherGithub();\n    } else {\n      console.log(\"bottom not reached\");\n    }\n  };\n  render() {\n    let list = this.state.list;\n    return (\n      <div>\n        <List\n          loading={this.state.loading}\n          list={list}\n          onScroll={this.handleScroll}\n        />\n        <SecondLoader />\n      </div>\n    );\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}